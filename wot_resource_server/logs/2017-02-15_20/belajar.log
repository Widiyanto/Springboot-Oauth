2017-02-15 20:00:55,035 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: caa2be90-a70c-618a-2657-b161bd2a3d44
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:00:55,041 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:00:55,041 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:00:55,041 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:00:55,041 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:00:55,042 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:00:55,042 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:00:55,042 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:00:55,042 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:00:55,042 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:00:55,043 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:00:55,044 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:00:55,044 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:00:55,044 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:00:55,044 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:00:55,061 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:00:55,061 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:00:55,062 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:03:48,461 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 0b7fc4fa-64f9-b691-cd84-06b5bb525bf9
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:03:48,462 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:03:48,462 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:03:48,463 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:03:48,463 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:03:48,463 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:03:48,463 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:03:48,464 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:03:48,464 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:03:48,465 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:03:48,465 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:03:48,465 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:03:48,465 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:03:48,465 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:03:48,465 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:03:48,466 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:03:48,467 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:03:48,467 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:03:48,467 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:03:48,467 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:03:48,467 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:03:48,467 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:03:48,468 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:03:48,468 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:03:48,493 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:03:48,493 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:03:48,494 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:04:04,333 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 817b10de-dc11-fb26-3599-f096ef0c2447
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:04:04,334 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:04:04,334 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:04:04,334 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:04:04,334 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:04:04,335 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:04:04,335 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:04:04,335 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:04:04,335 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:04:04,335 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:04:04,335 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:04:04,336 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:04:04,337 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:04:04,337 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:04:04,337 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:04:04,337 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:04:04,337 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:04:04,337 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:04:04,338 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:04:04,338 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:04:04,338 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:04:04,338 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:04:04,339 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:04:04,339 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:04:04,355 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:04:04,355 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:04:04,356 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:04:52,176 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 2c5da4c8-dec9-e10b-a9bf-f08e2a4f1afd
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:04:52,177 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:04:52,177 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:04:52,177 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:04:52,177 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:04:52,177 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:04:52,177 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:04:52,177 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:04:52,177 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:04:52,178 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:04:52,178 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:04:52,178 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:04:52,179 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:04:52,180 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:04:52,180 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:04:52,180 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:04:52,180 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:04:52,209 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:04:52,209 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:04:52,210 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:04:55,710 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: f560ad52-48db-2196-ee3a-1fbc7d902fe7
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:04:55,711 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:04:55,711 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:04:55,711 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:04:55,711 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:04:55,711 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:04:55,711 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:04:55,711 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:04:55,711 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:04:55,712 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:04:55,712 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:04:55,712 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:04:55,713 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:04:55,713 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:04:55,713 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:04:55,713 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:04:55,713 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:04:55,731 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:04:55,731 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:04:55,732 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:05:24,666 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
accept: application/json
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
authorization: bearer 1855034e-f4d3-429b-b06c-abf36fb3a508
postman-token: 236f9f44-6829-d5bf-cccf-505187145487
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:05:24,666 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:05:24,666 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:05:24,666 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:05:24,666 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:05:24,666 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:05:24,666 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:05:24,667 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:05:24,667 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:05:24,668 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:05:24,668 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:05:24,668 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:05:24,669 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:05:24,670 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:05:24,670 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:05:24,671 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:05:24,671 DEBUG o.s.security.web.FilterChainProxy - /api/admin at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:05:24,695 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:05:24,695 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:05:24,696 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:11:44,656 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 8a69a438-000e-474a-df55-817655c1454f
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:11:44,657 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:11:44,657 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:11:44,657 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:11:44,657 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:11:44,657 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:11:44,657 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:11:44,659 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:11:44,659 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:11:44,659 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:11:44,659 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:11:44,659 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:11:44,659 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:11:44,659 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:11:44,659 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:11:44,660 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:11:44,660 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:11:44,660 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:11:44,660 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:11:44,660 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:11:44,686 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:11:44,686 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:11:44,687 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:11:45,827 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 2961b2e2-e88c-3a62-e990-8445aff8cb1e
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:11:45,828 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:11:45,828 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:11:45,828 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:11:45,829 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:11:45,830 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:11:45,830 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:11:45,830 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:11:45,830 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:11:45,830 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:11:45,830 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:11:45,850 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:11:45,850 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:11:45,851 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:11:46,957 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: a955fb8f-9cdb-80de-7f90-0e75055b5e12
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:11:46,957 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:11:46,957 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:11:46,957 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:11:46,957 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:11:46,958 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:11:46,958 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:11:46,959 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:11:46,959 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:11:46,959 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:11:46,959 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:11:46,959 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:11:46,959 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:11:46,959 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:11:46,959 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:11:46,960 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:11:46,960 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:11:46,960 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:11:46,961 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:11:46,961 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:11:46,976 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:11:46,976 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:11:46,978 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:12:39,197 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 598d606e-1077-eb85-af94-e62863ddcf6c
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:12:39,197 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:39,197 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:39,197 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:39,197 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:39,198 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:39,198 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:39,198 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:39,198 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:39,198 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:39,199 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:39,199 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:39,199 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:39,199 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:39,199 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:39,223 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:39,223 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:39,224 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:12:40,672 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 887988ca-42df-9fc6-3f83-c375e84b6241
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:12:40,672 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:40,672 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:40,672 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:40,672 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:40,672 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:40,672 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:40,673 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:40,673 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:40,673 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:40,674 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:40,675 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:40,675 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:40,675 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:40,675 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:40,675 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:40,675 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:40,693 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:40,693 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:40,694 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:12:50,698 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: d87294b2-dbc0-76a3-c0d0-50994d663678
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:12:50,699 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:50,699 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:50,699 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:50,699 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:50,700 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:50,700 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:50,700 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:50,700 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:50,700 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:50,701 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:50,702 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:50,702 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:50,702 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:50,702 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:50,718 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:50,718 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:50,718 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:12:51,743 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: b3527340-8bdc-b05f-9ce7-5f3a00b96130
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:51,743 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:51,743 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:51,743 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:51,744 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:51,745 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:51,745 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:51,745 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:51,745 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:51,745 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:51,745 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:51,745 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:51,745 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:51,745 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:51,745 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:51,761 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:51,761 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:51,761 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:12:52,782 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: e48695cb-9127-2799-e57d-9327e6a55436
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:12:52,782 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:52,782 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:12:52,782 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:52,782 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:12:52,783 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:52,783 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:12:52,783 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:52,783 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:52,783 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:52,784 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:12:52,785 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:52,785 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:12:52,785 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:52,785 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:12:52,799 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:52,799 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:12:52,800 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:13:08,863 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: a5936d14-587a-941a-f923-441abd1310bf
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:13:08,864 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:08,864 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:08,864 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:08,864 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:08,864 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:08,864 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:08,865 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:08,865 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:08,865 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:08,866 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:08,866 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:08,866 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:08,866 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:08,866 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:08,883 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:08,883 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:08,884 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:13:13,591 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: f9b03f95-a92e-a1b1-4bd2-cbb92bfa85bc
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:13:13,591 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:13,591 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:13,592 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:13,592 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:13,592 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:13,592 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:13,592 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:13,592 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:13,592 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:13,593 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:13,593 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:13,593 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:13,593 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:13,593 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:13,609 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:13,609 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:13,609 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:13:14,754 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 8571fc7a-b381-1c0e-f545-93aedbb3b035
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:14,754 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:14,754 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:14,754 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:14,755 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:14,756 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:14,756 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:14,756 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:14,756 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:14,756 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:14,780 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:14,780 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:14,781 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:13:15,876 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 8d657200-8dda-3502-a150-50cd2c2647e6
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:13:15,876 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:15,876 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:15,876 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:15,876 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:15,876 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:15,876 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:15,877 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:15,877 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:15,877 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:15,878 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:15,878 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:15,878 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:15,878 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:15,878 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:15,892 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:15,892 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:15,893 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:13:17,302 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: b46648db-5b02-add2-4bfd-5cdea256353d
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:17,303 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:17,303 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:17,303 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:17,304 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:17,304 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:17,304 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:17,305 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:17,305 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:17,319 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:17,319 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:17,319 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:13:19,616 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 5cc90ce8-2538-42bf-4329-b724c411d900
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:13:19,617 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:19,617 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:13:19,617 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:19,617 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:13:19,617 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:19,617 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:13:19,617 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:19,617 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:13:19,618 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:19,618 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:13:19,618 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:19,618 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:19,619 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:13:19,620 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:19,620 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:13:19,620 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:19,620 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:13:19,620 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:19,620 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:13:19,620 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:19,620 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=1855034e-f4d3-429b-b06c-abf36fb3a508 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:13:19,620 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:19,620 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:13:19,633 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:19,633 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:13:19,634 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:16:05,517 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: ca6254c2-60fa-cbb1-a893-4c32dbcd6b3e
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:16:05,517 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:16:05,517 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:16:05,517 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:16:05,518 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:16:05,519 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:16:05,519 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:16:05,519 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:16:05,519 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:16:05,519 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:16:05,519 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:16:05,545 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:16:05,545 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:16:05,546 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:16:07,130 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: a1d63dfc-2bd4-8472-3d4a-a1a9cffc965a
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:16:07,130 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:16:07,130 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:16:07,130 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:16:07,130 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:16:07,131 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:16:07,131 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:16:07,131 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:16:07,131 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:16:07,131 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:16:07,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:16:07,132 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:16:07,132 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=3be94719-bddd-4cf7-b33d-a3118046cbc2 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:16:07,132 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:16:07,132 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:16:07,147 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:16:07,147 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:16:07,148 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:23:43,282 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 371dd647-4dd3-844d-90ca-0e17f9139a70
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:23:43,283 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:23:43,283 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:23:43,283 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:23:43,284 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:23:43,284 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:23:43,284 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:23:43,284 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:23:43,284 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:23:43,308 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:23:43,308 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:23:43,308 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:24:05,771 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 9df3538f-f16f-caf1-43ca-15979b875bb1
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:24:05,772 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:24:05,772 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:24:05,772 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:24:05,772 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:24:05,773 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:24:05,773 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:24:05,773 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:24:05,773 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:24:05,773 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:24:05,774 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:24:05,774 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:24:05,774 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=409920cb-3a91-4acd-bdbb-78c064a4916e at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:24:05,774 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:24:05,774 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:24:05,789 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:24:05,789 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:24:05,790 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:50:36,566 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00':

org.apache.catalina.connector.RequestFacade@32a456a9

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: b50f70f0-fa27-0ca9-edad-53ff52e520d1
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:50:36,567 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:50:36,567 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:50:36,567 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:50:36,567 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:50:36,567 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:50:36,567 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7c192259 
2017-02-15 20:50:36,568 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:50:36,568 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:50:36,568 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:50:36,569 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:50:36,569 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:50:36,569 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:50:36,569 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=7bbe654b-a83c-4dbe-8e16-2344b7384a00 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:50:36,569 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:50:36,569 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:50:36,585 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:50:36,585 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:50:36,586 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception 
org.springframework.web.client.HttpClientErrorException: 403 null
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices$1.handleError(RemoteTokenServices.java:70)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.postForMap(RemoteTokenServices.java:143)
	at org.springframework.security.oauth2.provider.token.RemoteTokenServices.loadAuthentication(RemoteTokenServices.java:107)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationManager.authenticate(OAuth2AuthenticationManager.java:83)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:150)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:51:03,690 INFO  o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested. 
2017-02-15 20:51:03,690 INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 19:34:47 ICT 2017]; root of context hierarchy 
2017-02-15 20:51:03,692 INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown 
2017-02-15 20:52:00,540 INFO  w.r.s.WotResourceServerApplication - Starting WotResourceServerApplication on Widiyanto with PID 5780 (started by Widiyanto02 in D:\White Open\FIF\Spring Boot\wot_resource_server) 
2017-02-15 20:52:00,546 INFO  w.r.s.WotResourceServerApplication - No active profile set, falling back to default profiles: default 
2017-02-15 20:52:00,632 INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:52:00 ICT 2017]; root of context hierarchy 
2017-02-15 20:52:01,097 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.4.Final 
2017-02-15 20:52:02,446 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration' of type [class org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
2017-02-15 20:52:02,572 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validator' of type [class org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
2017-02-15 20:52:02,938 INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat initialized with port(s): 10001 (http) 
2017-02-15 20:52:02,951 INFO  o.a.catalina.core.StandardService - Starting service Tomcat 
2017-02-15 20:52:02,953 INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.11 
2017-02-15 20:52:03,097 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext 
2017-02-15 20:52:03,098 INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 2466 ms 
2017-02-15 20:52:03,297 INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*] 
2017-02-15 20:52:03,302 INFO  o.s.b.w.s.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*] 
2017-02-15 20:52:03,302 INFO  o.s.b.w.s.ServletRegistrationBean - Mapping servlet: 'dispatcherServlet' to [/] 
2017-02-15 20:52:03,569 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/client]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.client(java.security.Principal) 
2017-02-15 20:52:03,571 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/state/new]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.newState(javax.servlet.http.HttpSession) 
2017-02-15 20:52:03,572 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/halo]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.halo() 
2017-02-15 20:52:03,573 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/admin]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.admin(java.security.Principal) 
2017-02-15 20:52:03,574 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/state/verify]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.verifyState(javax.servlet.http.HttpSession) 
2017-02-15 20:52:03,574 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/staff]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.staff() 
2017-02-15 20:52:03,584 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest) 
2017-02-15 20:52:03,585 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) 
2017-02-15 20:52:03,629 INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler] 
2017-02-15 20:52:03,679 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:52:00 ICT 2017]; root of context hierarchy 
2017-02-15 20:52:03,887 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfig=wot.resource.server.SecurityConfig$$EnhancerBySpringCGLIB$$690364f@5ba745bc} 
2017-02-15 20:52:03,887 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfig=wot.resource.server.SecurityConfig$$EnhancerBySpringCGLIB$$690364f@5ba745bc} 
2017-02-15 20:52:03,900 INFO  o.s.b.a.s.AuthenticationManagerConfiguration - 

Using default security password: ea2dd699-1975-44d8-b61f-b0f583c5b141
 
2017-02-15 20:52:04,138 DEBUG o.s.s.c.a.w.c.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity). 
2017-02-15 20:52:04,138 DEBUG o.s.s.c.a.w.c.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity). 
2017-02-15 20:52:04,210 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_STAFF')', for Ant [pattern='/api/staff'] 
2017-02-15 20:52:04,210 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_STAFF')', for Ant [pattern='/api/staff'] 
2017-02-15 20:52:04,213 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression '#oauth2.hasScope('trust')', for Ant [pattern='/api/client'] 
2017-02-15 20:52:04,213 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression '#oauth2.hasScope('trust')', for Ant [pattern='/api/client'] 
2017-02-15 20:52:04,214 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/admin'] 
2017-02-15 20:52:04,214 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/admin'] 
2017-02-15 20:52:04,223 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,223 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,225 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,225 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,229 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201aa8c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c12f3ee, org.springframework.security.web.header.HeaderWriterFilter@42f22995, org.springframework.security.web.authentication.logout.LogoutFilter@3e9803c2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7004e3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29182679, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682c1e93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d58c727, org.springframework.security.web.session.SessionManagementFilter@286b39c2, org.springframework.security.web.access.ExceptionTranslationFilter@1136b469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1869f114] 
2017-02-15 20:52:04,229 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201aa8c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c12f3ee, org.springframework.security.web.header.HeaderWriterFilter@42f22995, org.springframework.security.web.authentication.logout.LogoutFilter@3e9803c2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7004e3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29182679, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682c1e93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d58c727, org.springframework.security.web.session.SessionManagementFilter@286b39c2, org.springframework.security.web.access.ExceptionTranslationFilter@1136b469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1869f114] 
2017-02-15 20:52:04,256 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/halo'] 
2017-02-15 20:52:04,256 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/halo'] 
2017-02-15 20:52:04,258 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/state/**'] 
2017-02-15 20:52:04,258 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/state/**'] 
2017-02-15 20:52:04,258 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/**'] 
2017-02-15 20:52:04,258 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/**'] 
2017-02-15 20:52:04,259 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,259 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,259 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,259 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,260 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53dfacba, org.springframework.security.web.context.SecurityContextPersistenceFilter@60723d6a, org.springframework.security.web.header.HeaderWriterFilter@102d92c4, org.springframework.security.web.csrf.CsrfFilter@3241713e, org.springframework.security.web.authentication.logout.LogoutFilter@71178a52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18324f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64f555e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79767781, org.springframework.security.web.session.SessionManagementFilter@2b97cc1f, org.springframework.security.web.access.ExceptionTranslationFilter@13cd7ea5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10ec523c] 
2017-02-15 20:52:04,260 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53dfacba, org.springframework.security.web.context.SecurityContextPersistenceFilter@60723d6a, org.springframework.security.web.header.HeaderWriterFilter@102d92c4, org.springframework.security.web.csrf.CsrfFilter@3241713e, org.springframework.security.web.authentication.logout.LogoutFilter@71178a52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18324f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64f555e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79767781, org.springframework.security.web.session.SessionManagementFilter@2b97cc1f, org.springframework.security.web.access.ExceptionTranslationFilter@13cd7ea5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10ec523c] 
2017-02-15 20:52:04,278 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1 
2017-02-15 20:52:04,278 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1 
2017-02-15 20:52:04,279 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,279 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,279 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,279 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:52:04,296 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b558294, org.springframework.security.web.context.SecurityContextPersistenceFilter@56de6d6b, org.springframework.security.web.header.HeaderWriterFilter@1280851e, org.springframework.security.web.csrf.CsrfFilter@13a37e2a, org.springframework.security.web.authentication.logout.LogoutFilter@749f539e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@997d532, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31e32ea2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3028e50e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5972d253, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fcc0416, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb095, org.springframework.security.web.session.SessionManagementFilter@5e840abf, org.springframework.security.web.access.ExceptionTranslationFilter@a50ae65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6075b2d3] 
2017-02-15 20:52:04,296 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b558294, org.springframework.security.web.context.SecurityContextPersistenceFilter@56de6d6b, org.springframework.security.web.header.HeaderWriterFilter@1280851e, org.springframework.security.web.csrf.CsrfFilter@13a37e2a, org.springframework.security.web.authentication.logout.LogoutFilter@749f539e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@997d532, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31e32ea2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3028e50e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5972d253, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fcc0416, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb095, org.springframework.security.web.session.SessionManagementFilter@5e840abf, org.springframework.security.web.access.ExceptionTranslationFilter@a50ae65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6075b2d3] 
2017-02-15 20:52:04,301 WARN  o.s.s.c.a.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************

 
2017-02-15 20:52:04,301 WARN  o.s.s.c.a.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************

 
2017-02-15 20:52:04,786 INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup 
2017-02-15 20:52:04,809 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-10001"] 
2017-02-15 20:52:04,824 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [http-nio-10001] 
2017-02-15 20:52:04,837 INFO  o.a.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read 
2017-02-15 20:52:04,856 INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat started on port(s): 10001 (http) 
2017-02-15 20:52:04,862 INFO  w.r.s.WotResourceServerApplication - Started WotResourceServerApplication in 4.643 seconds (JVM running for 5.697) 
2017-02-15 20:54:02,889 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet' 
2017-02-15 20:54:02,889 INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started 
2017-02-15 20:54:02,909 INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms 
2017-02-15 20:54:02,917 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c':

org.apache.catalina.connector.RequestFacade@729d7330

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 0c7d3f55-0d5e-6346-56a7-7f74a8dc3813
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:54:02,920 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:54:02,920 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:54:02,920 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:54:02,920 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:54:02,921 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:54:02,921 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:54:02,922 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@635813cf 
2017-02-15 20:54:02,922 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@635813cf 
2017-02-15 20:54:02,922 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:54:02,922 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:54:02,923 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:54:02,924 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:54:02,924 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:54:02,924 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:54:02,925 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:54:02,925 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:54:03,060 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:03,060 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:03,063 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:54:03,063 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:54:03,063 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:54:03,063 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:54:03,065 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:54:03,065 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:54:03,066 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:54:03,066 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:54:03,067 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:54:03,067 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:54:03,069 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:54:03,069 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:54:03,070 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:54:03,070 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:54:03,071 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:54:03,071 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:54:03,072 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:54:03,072 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:54:03,073 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:54:03,073 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:54:03,074 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:54:03,074 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:54:03,075 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:54:03,075 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:54:03,075 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:03,075 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:03,258 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@414e94f8, returned: -1 
2017-02-15 20:54:03,258 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@414e94f8, returned: -1 
2017-02-15 20:54:03,266 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:54:03,266 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:54:03,345 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@7fff8b1b] 
2017-02-15 20:54:03,345 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@7fff8b1b] 
2017-02-15 20:54:03,346 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:54:03,346 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:54:15,124 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c':

org.apache.catalina.connector.RequestFacade@729d7330

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: bb8b7ea8-863c-14fa-7732-d90d8aed3ae7
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:54:15,125 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:54:15,125 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:54:15,125 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:54:15,125 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:54:15,125 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:54:15,125 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:54:15,126 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@635813cf 
2017-02-15 20:54:15,126 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@635813cf 
2017-02-15 20:54:15,126 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:54:15,126 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:54:15,126 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:54:15,126 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:54:15,127 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:54:15,127 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:54:15,129 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:54:15,129 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:54:15,130 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:54:15,130 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:54:15,131 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:54:15,131 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:54:15,131 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:54:15,131 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:54:15,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:54:15,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:54:15,132 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:54:15,132 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:54:15,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:54:15,132 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:54:15,132 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:54:15,132 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:54:15,133 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:54:15,133 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:54:15,166 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:15,166 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:15,167 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:54:15,167 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:54:15,167 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:54:15,167 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:54:15,167 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:54:15,167 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:54:15,167 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:54:15,167 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:54:15,168 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:54:15,168 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:54:15,168 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:54:15,168 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:54:15,168 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:54:15,168 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:54:15,168 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:54:15,168 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:54:15,168 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:54:15,168 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:54:15,168 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:54:15,168 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:54:15,169 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:54:15,169 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:54:15,169 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:54:15,169 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=200a3d7d-03b3-4531-ad3d-eafdce730d3c; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:54:15,169 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:15,169 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@c7d163e1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:54:15,171 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@414e94f8, returned: -1 
2017-02-15 20:54:15,171 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@414e94f8, returned: -1 
2017-02-15 20:54:15,171 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:54:15,171 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:54:15,174 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@7fff8b1b] 
2017-02-15 20:54:15,174 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@7fff8b1b] 
2017-02-15 20:54:15,174 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:54:15,174 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:54:56,837 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/halo':

org.apache.catalina.connector.RequestFacade@729d7330

servletPath:/api/halo
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 4d4fe0ba-dc9f-4f57-a6aa-4b3b7fa841ec
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:54:56,838 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:54:56,838 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:54:56,838 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:54:56,838 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:54:56,839 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:54:56,839 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:54:56,839 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@635813cf 
2017-02-15 20:54:56,839 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@635813cf 
2017-02-15 20:54:56,839 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:54:56,839 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/logout' 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/logout' 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/halo' doesn't match 'POST /logout 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/halo' doesn't match 'POST /logout 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:54:56,840 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:54:56,841 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/halo' doesn't match 'PUT /logout 
2017-02-15 20:54:56,841 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/halo' doesn't match 'PUT /logout 
2017-02-15 20:54:56,842 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:54:56,842 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:54:56,842 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/halo' doesn't match 'DELETE /logout 
2017-02-15 20:54:56,842 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/halo' doesn't match 'DELETE /logout 
2017-02-15 20:54:56,843 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:54:56,843 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:54:56,843 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:54:56,843 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:54:56,843 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:54:56,843 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:54:56,843 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in request parameters.  Not an OAuth2 request. 
2017-02-15 20:54:56,843 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in request parameters.  Not an OAuth2 request. 
2017-02-15 20:54:56,843 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - No token in request, will continue chain. 
2017-02-15 20:54:56,843 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - No token in request, will continue chain. 
2017-02-15 20:54:56,844 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:54:56,844 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:54:56,844 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:54:56,844 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:54:56,844 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:54:56,844 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:54:56,846 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@9055c2bc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS' 
2017-02-15 20:54:56,846 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@9055c2bc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS' 
2017-02-15 20:54:56,846 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:54:56,846 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:54:56,847 DEBUG o.s.s.w.s.SessionManagementFilter - Requested session ID 2DE995C1516D22491A84EF61269CC034 is invalid. 
2017-02-15 20:54:56,847 DEBUG o.s.s.w.s.SessionManagementFilter - Requested session ID 2DE995C1516D22491A84EF61269CC034 is invalid. 
2017-02-15 20:54:56,847 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:54:56,847 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:54:56,847 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:54:56,847 DEBUG o.s.security.web.FilterChainProxy - /api/halo at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/api/staff' 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/api/staff' 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/api/client' 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/api/client' 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/api/admin' 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/halo'; against '/api/admin' 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Public object - authentication not attempted 
2017-02-15 20:54:56,848 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Public object - authentication not attempted 
2017-02-15 20:54:56,849 DEBUG o.s.security.web.FilterChainProxy - /api/halo reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:54:56,849 DEBUG o.s.security.web.FilterChainProxy - /api/halo reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:54:56,880 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:54:56,880 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:54:56,881 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:54:56,881 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:56:12,442 INFO  o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested. 
2017-02-15 20:56:12,443 INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:52:00 ICT 2017]; root of context hierarchy 
2017-02-15 20:56:12,445 INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown 
2017-02-15 20:56:18,945 INFO  w.r.s.WotResourceServerApplication - Starting WotResourceServerApplication on Widiyanto with PID 2628 (started by Widiyanto02 in D:\White Open\FIF\Spring Boot\wot_resource_server) 
2017-02-15 20:56:18,949 INFO  w.r.s.WotResourceServerApplication - No active profile set, falling back to default profiles: default 
2017-02-15 20:56:19,012 INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:56:19 ICT 2017]; root of context hierarchy 
2017-02-15 20:56:19,430 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.4.Final 
2017-02-15 20:56:20,317 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration' of type [class org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
2017-02-15 20:56:20,405 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validator' of type [class org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
2017-02-15 20:56:20,776 INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat initialized with port(s): 10001 (http) 
2017-02-15 20:56:20,793 INFO  o.a.catalina.core.StandardService - Starting service Tomcat 
2017-02-15 20:56:20,795 INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.11 
2017-02-15 20:56:20,940 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext 
2017-02-15 20:56:20,941 INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1930 ms 
2017-02-15 20:56:21,131 INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*] 
2017-02-15 20:56:21,137 INFO  o.s.b.w.s.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*] 
2017-02-15 20:56:21,138 INFO  o.s.b.w.s.ServletRegistrationBean - Mapping servlet: 'dispatcherServlet' to [/] 
2017-02-15 20:56:21,387 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/client]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.client(java.security.Principal) 
2017-02-15 20:56:21,388 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/state/new]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.newState(javax.servlet.http.HttpSession) 
2017-02-15 20:56:21,389 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/staff]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.staff() 
2017-02-15 20:56:21,390 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/state/verify]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.verifyState(javax.servlet.http.HttpSession) 
2017-02-15 20:56:21,390 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/halo]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.halo() 
2017-02-15 20:56:21,391 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/admin]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.admin(java.security.Principal) 
2017-02-15 20:56:21,401 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest) 
2017-02-15 20:56:21,402 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) 
2017-02-15 20:56:21,449 INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler] 
2017-02-15 20:56:21,500 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:56:19 ICT 2017]; root of context hierarchy 
2017-02-15 20:56:21,687 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfig=wot.resource.server.SecurityConfig$$EnhancerBySpringCGLIB$$690364f@5ba745bc} 
2017-02-15 20:56:21,687 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfig=wot.resource.server.SecurityConfig$$EnhancerBySpringCGLIB$$690364f@5ba745bc} 
2017-02-15 20:56:21,702 INFO  o.s.b.a.s.AuthenticationManagerConfiguration - 

Using default security password: c5d6b0ce-e495-4649-a58d-2013a89ec9f0
 
2017-02-15 20:56:21,830 DEBUG o.s.s.c.a.w.c.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity). 
2017-02-15 20:56:21,830 DEBUG o.s.s.c.a.w.c.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity). 
2017-02-15 20:56:21,911 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_STAFF')', for Ant [pattern='/api/staff'] 
2017-02-15 20:56:21,911 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_STAFF')', for Ant [pattern='/api/staff'] 
2017-02-15 20:56:21,915 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression '#oauth2.hasScope('trust')', for Ant [pattern='/api/client'] 
2017-02-15 20:56:21,915 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression '#oauth2.hasScope('trust')', for Ant [pattern='/api/client'] 
2017-02-15 20:56:21,916 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/admin'] 
2017-02-15 20:56:21,916 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/admin'] 
2017-02-15 20:56:21,926 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,926 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,928 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,928 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,933 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201aa8c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c12f3ee, org.springframework.security.web.header.HeaderWriterFilter@42f22995, org.springframework.security.web.authentication.logout.LogoutFilter@3e9803c2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7004e3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29182679, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682c1e93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d58c727, org.springframework.security.web.session.SessionManagementFilter@286b39c2, org.springframework.security.web.access.ExceptionTranslationFilter@1136b469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1869f114] 
2017-02-15 20:56:21,933 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201aa8c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c12f3ee, org.springframework.security.web.header.HeaderWriterFilter@42f22995, org.springframework.security.web.authentication.logout.LogoutFilter@3e9803c2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7004e3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29182679, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682c1e93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d58c727, org.springframework.security.web.session.SessionManagementFilter@286b39c2, org.springframework.security.web.access.ExceptionTranslationFilter@1136b469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1869f114] 
2017-02-15 20:56:21,954 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/halo'] 
2017-02-15 20:56:21,954 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/halo'] 
2017-02-15 20:56:21,955 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/state/**'] 
2017-02-15 20:56:21,955 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/state/**'] 
2017-02-15 20:56:21,956 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/**'] 
2017-02-15 20:56:21,956 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/**'] 
2017-02-15 20:56:21,956 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,956 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,957 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,957 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,957 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53dfacba, org.springframework.security.web.context.SecurityContextPersistenceFilter@60723d6a, org.springframework.security.web.header.HeaderWriterFilter@102d92c4, org.springframework.security.web.csrf.CsrfFilter@3241713e, org.springframework.security.web.authentication.logout.LogoutFilter@71178a52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18324f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64f555e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79767781, org.springframework.security.web.session.SessionManagementFilter@2b97cc1f, org.springframework.security.web.access.ExceptionTranslationFilter@13cd7ea5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10ec523c] 
2017-02-15 20:56:21,957 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53dfacba, org.springframework.security.web.context.SecurityContextPersistenceFilter@60723d6a, org.springframework.security.web.header.HeaderWriterFilter@102d92c4, org.springframework.security.web.csrf.CsrfFilter@3241713e, org.springframework.security.web.authentication.logout.LogoutFilter@71178a52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18324f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64f555e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79767781, org.springframework.security.web.session.SessionManagementFilter@2b97cc1f, org.springframework.security.web.access.ExceptionTranslationFilter@13cd7ea5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10ec523c] 
2017-02-15 20:56:21,969 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1 
2017-02-15 20:56:21,969 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1 
2017-02-15 20:56:21,970 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,970 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,970 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,970 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:56:21,979 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b558294, org.springframework.security.web.context.SecurityContextPersistenceFilter@56de6d6b, org.springframework.security.web.header.HeaderWriterFilter@1280851e, org.springframework.security.web.csrf.CsrfFilter@13a37e2a, org.springframework.security.web.authentication.logout.LogoutFilter@749f539e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@997d532, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31e32ea2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3028e50e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5972d253, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fcc0416, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb095, org.springframework.security.web.session.SessionManagementFilter@5e840abf, org.springframework.security.web.access.ExceptionTranslationFilter@a50ae65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6075b2d3] 
2017-02-15 20:56:21,979 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b558294, org.springframework.security.web.context.SecurityContextPersistenceFilter@56de6d6b, org.springframework.security.web.header.HeaderWriterFilter@1280851e, org.springframework.security.web.csrf.CsrfFilter@13a37e2a, org.springframework.security.web.authentication.logout.LogoutFilter@749f539e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@997d532, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31e32ea2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3028e50e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5972d253, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fcc0416, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb095, org.springframework.security.web.session.SessionManagementFilter@5e840abf, org.springframework.security.web.access.ExceptionTranslationFilter@a50ae65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6075b2d3] 
2017-02-15 20:56:21,986 WARN  o.s.s.c.a.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************

 
2017-02-15 20:56:21,986 WARN  o.s.s.c.a.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************

 
2017-02-15 20:56:22,467 INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup 
2017-02-15 20:56:22,490 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-10001"] 
2017-02-15 20:56:22,503 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [http-nio-10001] 
2017-02-15 20:56:22,518 INFO  o.a.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read 
2017-02-15 20:56:22,539 INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat started on port(s): 10001 (http) 
2017-02-15 20:56:22,546 INFO  w.r.s.WotResourceServerApplication - Started WotResourceServerApplication in 3.979 seconds (JVM running for 5.086) 
2017-02-15 20:56:49,603 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet' 
2017-02-15 20:56:49,604 INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started 
2017-02-15 20:56:49,627 INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms 
2017-02-15 20:56:49,637 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602':

org.apache.catalina.connector.RequestFacade@689939df

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 37aa7bb8-e333-f6d1-5209-d7be125599f5
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:56:49,641 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:56:49,641 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:56:49,642 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:56:49,642 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:56:49,643 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:56:49,643 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:56:49,644 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:56:49,644 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:56:49,645 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:56:49,645 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:56:49,645 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:56:49,645 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:56:49,646 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:56:49,646 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:56:49,646 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:56:49,646 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:56:49,647 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:56:49,647 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:56:49,647 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:56:49,647 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:56:49,647 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:56:49,647 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:56:49,648 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:56:49,648 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:56:49,648 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:56:49,648 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:56:49,648 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:56:49,648 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:56:49,649 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:56:49,649 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:56:49,649 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:56:49,649 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:56:49,975 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@34832be1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:56:49,975 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@34832be1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:56:49,979 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:56:49,979 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:56:49,979 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:56:49,979 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:56:49,981 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:56:49,981 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:56:49,982 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@34832be1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:56:49,982 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@34832be1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:56:49,982 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:56:49,982 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:56:49,983 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:56:49,983 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:56:49,984 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:56:49,984 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:56:49,984 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:56:49,984 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:56:49,985 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:56:49,985 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:56:49,986 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:56:49,986 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:56:49,987 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:56:49,987 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:56:49,987 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:56:49,987 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=30c20960-17b2-453c-808f-c5dc80d56602; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:56:49,988 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@34832be1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:56:49,988 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@34832be1: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:56:50,007 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: -1 
2017-02-15 20:56:50,007 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: -1 
2017-02-15 20:56:50,181 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:56:50,181 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:56:50,280 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@22198762] 
2017-02-15 20:56:50,280 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@22198762] 
2017-02-15 20:56:50,281 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:56:50,281 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:57:14,051 INFO  Spring Security Debugger - 

************************************************************

Request received for GET '/api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3':

org.apache.catalina.connector.RequestFacade@689939df

servletPath:/api/admin
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
cache-control: no-cache
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 7606c819-9157-132b-8b05-cd36241f2e8d
accept: */*
accept-encoding: gzip, deflate, sdch, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:57:14,052 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:57:14,052 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:57:14,052 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:57:14,052 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:57:14,052 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:57:14,052 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:57:14,053 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:57:14,053 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:57:14,053 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:57:14,053 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:57:14,053 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:57:14,053 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:57:14,054 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:57:14,054 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/logout' 
2017-02-15 20:57:14,054 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:57:14,054 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:57:14,055 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:57:14,055 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'POST /logout 
2017-02-15 20:57:14,055 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:57:14,055 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:57:14,056 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:57:14,056 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'PUT /logout 
2017-02-15 20:57:14,058 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:57:14,058 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:57:14,058 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:57:14,058 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /api/admin' doesn't match 'DELETE /logout 
2017-02-15 20:57:14,058 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:57:14,058 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:57:14,059 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:57:14,059 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:57:14,059 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:57:14,059 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:57:14,085 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@613e7c93: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:57:14,085 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@613e7c93: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:57:14,085 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:57:14,085 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:57:14,086 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:57:14,086 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:57:14,086 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:57:14,086 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:57:14,086 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@613e7c93: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:57:14,086 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@613e7c93: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:57:14,087 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:57:14,087 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:57:14,087 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:57:14,087 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:57:14,087 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:57:14,087 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:57:14,087 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:57:14,087 DEBUG o.s.security.web.FilterChainProxy - /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:57:14,087 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:57:14,087 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/staff' 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/client' 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/admin'; against '/api/admin' 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/admin?access_token=c8fcdaa1-0efa-42c4-9c58-13e8cdc745a3; Attributes: [#oauth2.throwOnError(hasRole('ROLE_ADMIN'))] 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@613e7c93: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:57:14,088 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@613e7c93: Principal: widy; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:57:14,090 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: -1 
2017-02-15 20:57:14,090 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: -1 
2017-02-15 20:57:14,091 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:57:14,091 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is not anonymous); delegating to AccessDeniedHandler 
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2017-02-15 20:57:14,093 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@22198762] 
2017-02-15 20:57:14,093 DEBUG o.s.s.o.p.e.DefaultOAuth2ExceptionRenderer - Written [error="access_denied", error_description="Access is denied"] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@22198762] 
2017-02-15 20:57:14,094 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:57:14,094 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:00,908 INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac':

org.apache.catalina.connector.RequestFacade@689939df

servletPath:/api/client
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
content-length: 0
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 7a820ba1-e40c-ba2f-19a7-9d7fbce3c58a
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:59:00,908 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:00,908 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:00,909 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:00,909 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:00,909 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:00,909 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:00,909 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:00,909 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:00,910 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:00,910 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:00,910 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:00,910 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:00,910 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:00,910 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:00,911 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:00,911 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:00,911 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:00,911 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:00,911 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:00,911 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:00,912 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:00,912 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:00,912 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:00,913 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:00,913 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:00,942 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:00,942 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:00,943 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:00,943 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:00,943 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:00,943 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:00,943 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:00,943 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:00,943 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:00,943 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:00,944 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:00,944 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:00,944 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:00,944 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:00,944 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:00,944 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:00,944 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:00,944 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:00,945 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:00,946 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:00,946 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:00,947 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:00,947 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:00,947 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:00,947 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:00,947 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:00,947 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:00,980 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:00,980 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:00,981 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:00,981 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:05,377 INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac':

org.apache.catalina.connector.RequestFacade@689939df

servletPath:/api/client
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
content-length: 0
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 9656dc96-26ff-fe65-875c-59c48ebb3995
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:59:05,377 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:05,377 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:05,377 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:05,377 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:05,378 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:05,378 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:05,379 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:05,379 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:05,379 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:05,379 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:05,379 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:05,379 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:05,379 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:05,379 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:05,380 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:05,381 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:05,381 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:05,381 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:05,381 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:05,381 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:05,381 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:05,405 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:05,405 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:05,405 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:05,405 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:05,405 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:05,405 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:05,406 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:05,406 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:05,406 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:05,406 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:05,406 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:05,406 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:05,407 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:05,407 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:05,407 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:05,407 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:05,407 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:05,408 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:05,408 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:05,409 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:05,409 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:05,409 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:05,409 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:05,409 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:05,409 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:05,409 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:05,409 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:05,413 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:05,413 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:05,413 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:05,413 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:06,285 INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac':

org.apache.catalina.connector.RequestFacade@689939df

servletPath:/api/client
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
content-length: 0
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 0abbd428-af4a-8daa-807a-fb27a80edbc7
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:59:06,286 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:06,286 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:06,286 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:06,286 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:06,286 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:06,286 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:06,286 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:06,286 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:06,287 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:06,287 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:06,287 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:06,288 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:06,290 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:06,290 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:06,291 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:06,291 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:06,315 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:06,315 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:06,315 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:06,315 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:06,315 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:06,315 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:06,315 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:06,315 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:06,315 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:06,315 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:06,316 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:06,316 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:06,316 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:06,316 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:06,316 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:06,316 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:06,316 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:06,317 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:06,317 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:06,317 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:06,317 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:06,317 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:06,317 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:06,317 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:06,317 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:06,319 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:06,319 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:06,319 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:06,319 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:07,067 INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac':

org.apache.catalina.connector.RequestFacade@689939df

servletPath:/api/client
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
content-length: 0
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: 7ca4c5a6-6048-8459-ec58-94346bfeacb4
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:59:07,067 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:07,067 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:07,068 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:07,068 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:07,068 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:07,068 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:07,069 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:07,069 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:07,069 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:07,069 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:07,069 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:07,069 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:07,069 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:07,069 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:07,070 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:07,071 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:07,071 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:07,071 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:07,071 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:07,072 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:07,072 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:07,072 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:07,072 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:07,100 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,100 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:07,101 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:07,101 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:07,101 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:07,102 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:07,102 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:07,102 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:07,102 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:07,102 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:07,102 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:07,102 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:07,102 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:07,102 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:07,102 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,103 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:07,103 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:07,103 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:07,104 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:07,104 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:07,109 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:07,109 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:07,110 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:07,110 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:07,833 INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac':

org.apache.catalina.connector.RequestFacade@689939df

servletPath:/api/client
pathInfo:null
headers: 
host: localhost:10001
connection: keep-alive
content-length: 0
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
postman-token: de52bcaf-7d23-a83a-70df-3087907f0147
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.8
cookie: JSESSIONID=2DE995C1516D22491A84EF61269CC034


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  OAuth2AuthenticationProcessingFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************

 
2017-02-15 20:59:07,834 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:07,834 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter' 
2017-02-15 20:59:07,834 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:07,834 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter' 
2017-02-15 20:59:07,834 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:07,834 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter' 
2017-02-15 20:59:07,834 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:07,834 DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@18415dac 
2017-02-15 20:59:07,835 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:07,835 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter' 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET] 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'GET /logout 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST] 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:07,835 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/logout' 
2017-02-15 20:59:07,836 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:07,836 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT] 
2017-02-15 20:59:07,836 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:07,836 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'PUT /logout 
2017-02-15 20:59:07,837 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:07,837 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE] 
2017-02-15 20:59:07,837 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:07,837 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /api/client' doesn't match 'DELETE /logout 
2017-02-15 20:59:07,837 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:07,837 DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found 
2017-02-15 20:59:07,837 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:07,837 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 5 of 11 in additional filter chain; firing Filter: 'OAuth2AuthenticationProcessingFilter' 
2017-02-15 20:59:07,837 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:07,837 DEBUG o.s.s.o.p.a.BearerTokenExtractor - Token not found in headers. Trying request parameters. 
2017-02-15 20:59:07,866 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,866 DEBUG o.s.s.o.p.a.OAuth2AuthenticationProcessingFilter - Authentication success: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:07,867 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:07,867 DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@312afbc7 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:07,867 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter' 
2017-02-15 20:59:07,868 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:07,868 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/staff' 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/api/client'; against '/api/client' 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac; Attributes: [#oauth2.throwOnError(#oauth2.hasScope('trust'))] 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,868 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.oauth2.provider.OAuth2Authentication@eb55eff0: Principal: clientcred; Credentials: [PROTECTED]; Authenticated: true; Details: remoteAddress=0:0:0:0:0:0:0:1, tokenType=BearertokenValue=<TOKEN>; Not granted any authorities 
2017-02-15 20:59:07,869 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:07,869 DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57f86f18, returned: 1 
2017-02-15 20:59:07,869 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:07,869 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful 
2017-02-15 20:59:07,869 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:07,869 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object 
2017-02-15 20:59:07,869 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:07,869 DEBUG o.s.security.web.FilterChainProxy - /api/client?access_token=603ef4ec-210c-4b17-9947-7dc5f54631ac reached end of additional filter chain; proceeding with original chain 
2017-02-15 20:59:07,873 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:07,873 DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally 
2017-02-15 20:59:07,873 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:07,873 DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed 
2017-02-15 20:59:11,371 INFO  o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested. 
2017-02-15 20:59:11,371 INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:56:19 ICT 2017]; root of context hierarchy 
2017-02-15 20:59:11,374 INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown 
2017-02-15 20:59:33,343 INFO  w.r.s.WotResourceServerApplication - Starting WotResourceServerApplication on Widiyanto with PID 4208 (started by Widiyanto02 in D:\White Open\FIF\Spring Boot\wot_resource_server) 
2017-02-15 20:59:33,350 INFO  w.r.s.WotResourceServerApplication - No active profile set, falling back to default profiles: default 
2017-02-15 20:59:33,419 INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:59:33 ICT 2017]; root of context hierarchy 
2017-02-15 20:59:33,913 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.4.Final 
2017-02-15 20:59:34,739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration' of type [class org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
2017-02-15 20:59:34,848 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'validator' of type [class org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
2017-02-15 20:59:35,258 INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat initialized with port(s): 10001 (http) 
2017-02-15 20:59:35,275 INFO  o.a.catalina.core.StandardService - Starting service Tomcat 
2017-02-15 20:59:35,277 INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.11 
2017-02-15 20:59:35,426 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext 
2017-02-15 20:59:35,427 INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 2008 ms 
2017-02-15 20:59:35,660 INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*] 
2017-02-15 20:59:35,662 INFO  o.s.b.w.s.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*] 
2017-02-15 20:59:35,663 INFO  o.s.b.w.s.ServletRegistrationBean - Mapping servlet: 'dispatcherServlet' to [/] 
2017-02-15 20:59:35,944 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/client]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.client(java.security.Principal) 
2017-02-15 20:59:35,945 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/state/new]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.newState(javax.servlet.http.HttpSession) 
2017-02-15 20:59:35,946 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/staff]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.staff() 
2017-02-15 20:59:35,946 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/admin]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.admin(java.security.Principal) 
2017-02-15 20:59:35,946 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/halo]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.halo() 
2017-02-15 20:59:35,947 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/api/state/verify]}" onto public java.util.Map<java.lang.String, java.lang.Object> wot.resource.server.HaloController.verifyState(javax.servlet.http.HttpSession) 
2017-02-15 20:59:35,957 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest) 
2017-02-15 20:59:35,958 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) 
2017-02-15 20:59:36,005 INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler] 
2017-02-15 20:59:36,055 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d082e88: startup date [Wed Feb 15 20:59:33 ICT 2017]; root of context hierarchy 
2017-02-15 20:59:36,248 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfig=wot.resource.server.SecurityConfig$$EnhancerBySpringCGLIB$$690364f@5ba745bc} 
2017-02-15 20:59:36,248 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfig=wot.resource.server.SecurityConfig$$EnhancerBySpringCGLIB$$690364f@5ba745bc} 
2017-02-15 20:59:36,260 INFO  o.s.b.a.s.AuthenticationManagerConfiguration - 

Using default security password: 7fdafb0c-28bb-448b-9e44-d0e98f4fd801
 
2017-02-15 20:59:36,396 DEBUG o.s.s.c.a.w.c.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity). 
2017-02-15 20:59:36,396 DEBUG o.s.s.c.a.w.c.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity). 
2017-02-15 20:59:36,468 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_STAFF')', for Ant [pattern='/api/staff'] 
2017-02-15 20:59:36,468 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_STAFF')', for Ant [pattern='/api/staff'] 
2017-02-15 20:59:36,473 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression '#oauth2.hasScope('trust')', for Ant [pattern='/api/client'] 
2017-02-15 20:59:36,473 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression '#oauth2.hasScope('trust')', for Ant [pattern='/api/client'] 
2017-02-15 20:59:36,476 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/admin'] 
2017-02-15 20:59:36,476 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/admin'] 
2017-02-15 20:59:36,486 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,486 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,489 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,489 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,494 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201aa8c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c12f3ee, org.springframework.security.web.header.HeaderWriterFilter@42f22995, org.springframework.security.web.authentication.logout.LogoutFilter@3e9803c2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7004e3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29182679, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682c1e93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d58c727, org.springframework.security.web.session.SessionManagementFilter@286b39c2, org.springframework.security.web.access.ExceptionTranslationFilter@1136b469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1869f114] 
2017-02-15 20:59:36,494 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201aa8c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c12f3ee, org.springframework.security.web.header.HeaderWriterFilter@42f22995, org.springframework.security.web.authentication.logout.LogoutFilter@3e9803c2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7004e3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29182679, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682c1e93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d58c727, org.springframework.security.web.session.SessionManagementFilter@286b39c2, org.springframework.security.web.access.ExceptionTranslationFilter@1136b469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1869f114] 
2017-02-15 20:59:36,511 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/halo'] 
2017-02-15 20:59:36,511 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/halo'] 
2017-02-15 20:59:36,514 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/state/**'] 
2017-02-15 20:59:36,514 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/api/state/**'] 
2017-02-15 20:59:36,514 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/**'] 
2017-02-15 20:59:36,514 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'permitAll', for Ant [pattern='/**'] 
2017-02-15 20:59:36,515 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,515 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,515 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,515 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,516 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53dfacba, org.springframework.security.web.context.SecurityContextPersistenceFilter@60723d6a, org.springframework.security.web.header.HeaderWriterFilter@102d92c4, org.springframework.security.web.csrf.CsrfFilter@3241713e, org.springframework.security.web.authentication.logout.LogoutFilter@71178a52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18324f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64f555e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79767781, org.springframework.security.web.session.SessionManagementFilter@2b97cc1f, org.springframework.security.web.access.ExceptionTranslationFilter@13cd7ea5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10ec523c] 
2017-02-15 20:59:36,516 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53dfacba, org.springframework.security.web.context.SecurityContextPersistenceFilter@60723d6a, org.springframework.security.web.header.HeaderWriterFilter@102d92c4, org.springframework.security.web.csrf.CsrfFilter@3241713e, org.springframework.security.web.authentication.logout.LogoutFilter@71178a52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18324f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64f555e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79767781, org.springframework.security.web.session.SessionManagementFilter@2b97cc1f, org.springframework.security.web.access.ExceptionTranslationFilter@13cd7ea5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10ec523c] 
2017-02-15 20:59:36,533 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1 
2017-02-15 20:59:36,533 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1 
2017-02-15 20:59:36,534 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,534 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,534 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,534 DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes 
2017-02-15 20:59:36,549 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b558294, org.springframework.security.web.context.SecurityContextPersistenceFilter@56de6d6b, org.springframework.security.web.header.HeaderWriterFilter@1280851e, org.springframework.security.web.csrf.CsrfFilter@13a37e2a, org.springframework.security.web.authentication.logout.LogoutFilter@749f539e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@997d532, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31e32ea2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3028e50e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5972d253, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fcc0416, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb095, org.springframework.security.web.session.SessionManagementFilter@5e840abf, org.springframework.security.web.access.ExceptionTranslationFilter@a50ae65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6075b2d3] 
2017-02-15 20:59:36,549 INFO  o.s.s.w.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b558294, org.springframework.security.web.context.SecurityContextPersistenceFilter@56de6d6b, org.springframework.security.web.header.HeaderWriterFilter@1280851e, org.springframework.security.web.csrf.CsrfFilter@13a37e2a, org.springframework.security.web.authentication.logout.LogoutFilter@749f539e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@997d532, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31e32ea2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3028e50e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5972d253, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fcc0416, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb095, org.springframework.security.web.session.SessionManagementFilter@5e840abf, org.springframework.security.web.access.ExceptionTranslationFilter@a50ae65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6075b2d3] 
2017-02-15 20:59:36,554 WARN  o.s.s.c.a.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************

 
2017-02-15 20:59:36,554 WARN  o.s.s.c.a.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************

 
2017-02-15 20:59:37,165 INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup 
2017-02-15 20:59:37,190 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-10001"] 
2017-02-15 20:59:37,205 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [http-nio-10001] 
2017-02-15 20:59:37,220 INFO  o.a.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read 
2017-02-15 20:59:37,241 INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat started on port(s): 10001 (http) 
2017-02-15 20:59:37,247 INFO  w.r.s.WotResourceServerApplication - Started WotResourceServerApplication in 4.271 seconds (JVM running for 5.388) 
